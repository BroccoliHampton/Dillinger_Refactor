<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dillinger Outlaw Space Commando 1995</title>
    
    <!-- Farcaster Frame Meta -->
    <meta name="fc:frame" content="vNext">
    <meta name="fc:frame:image" content="https://dillinger-game.vercel.app/preview.png">
    <meta name="fc:frame:button:1" content="Play Game">
    <meta name="fc:frame:post_url" content="https://dillinger-game.vercel.app">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tone.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    
    <!-- Main Styles -->
    <link rel="stylesheet" href="/css/main.css">
    
    <!-- Main Script (ES Module) -->
    <script type="module" src="/js/main.js"></script>
</head>
<body class="overflow-x-hidden">
    <!-- Background Starfield -->
    <div id="starfield"></div>

    <!-- ========================================= -->
    <!-- MINT OVERLAY (Start Screen) -->
    <!-- ========================================= -->
    <div id="mint-overlay" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/90 p-4">
        <div class="text-center max-w-md">
            <h1 class="font-title text-2xl md:text-3xl text-yellow-400 mb-2 tracking-wider" style="text-shadow: 0 0 10px #facc15;">
                DILLINGER
            </h1>
            <p class="font-title text-xs text-green-400 mb-6">OUTLAW SPACE COMMANDO 1995</p>
            
            <div class="wireframe-container">
                <svg id="wireframe-ship-0" class="wireframe-ship-part" viewBox="0 0 100 100">
                    <polygon points="50,10 20,90 50,70 80,90"/>
                    <line x1="50" y1="10" x2="50" y2="70"/>
                    <line x1="20" y1="90" x2="80" y2="90"/>
                </svg>
                <svg id="wireframe-ship-45" class="wireframe-ship-part" viewBox="0 0 100 100">
                    <polygon points="50,10 20,90 50,70 80,90"/>
                    <line x1="50" y1="10" x2="50" y2="70"/>
                    <line x1="20" y1="90" x2="80" y2="90"/>
                </svg>
                <svg id="wireframe-ship-90" class="wireframe-ship-part" viewBox="0 0 100 100">
                    <polygon points="50,10 20,90 50,70 80,90"/>
                    <line x1="50" y1="10" x2="50" y2="70"/>
                    <line x1="20" y1="90" x2="80" y2="90"/>
                </svg>
                <svg id="wireframe-ship-135" class="wireframe-ship-part" viewBox="0 0 100 100">
                    <polygon points="50,10 20,90 50,70 80,90"/>
                    <line x1="50" y1="10" x2="50" y2="70"/>
                    <line x1="20" y1="90" x2="80" y2="90"/>
                </svg>
            </div>
            
            <p class="text-sm text-gray-400 mb-6 px-4">
                Pilot The Outrider across 1,000,000 lightyears. Craft solar sails, manage your photon reactor, and evade the law.
            </p>
            
            <button id="mint-button" class="retro-button font-title text-sm py-3 px-8 rounded text-green-400 hover:text-white">
                [ LAUNCH MISSION ]
            </button>
        </div>
    </div>

    <!-- ========================================= -->
    <!-- LOADING SPINNER -->
    <!-- ========================================= -->
    <div id="loading-spinner" class="fixed inset-0 z-40 flex flex-col items-center justify-center bg-black/80 hidden">
        <div class="spinner"></div>
        <p class="mt-4 font-title text-xs text-green-400">INITIALIZING SYSTEMS...</p>
    </div>

    <!-- ========================================= -->
    <!-- GAME HEADER -->
    <!-- ========================================= -->
    <header id="game-header" class="w-full max-w-lg mx-auto p-2 flex justify-between items-center hidden">
        <p id="user-id-display" class="text-xs text-gray-500 hidden">FID: ---</p>
        <button id="mute-button" class="audio-control-button">
            <i id="mute-icon" class="fas fa-volume-up"></i>
        </button>
    </header>

    <!-- ========================================= -->
    <!-- MAIN GAME CONTAINER -->
    <!-- ========================================= -->
    <main id="game-container" class="w-full max-w-lg mx-auto p-2 hidden">
        <div id="game-area">

            <!-- ===== VITALS TAB ===== -->
            <section id="vitals-tab-content" class="tab-content active">
                <div class="retro-border secondary-panel-bg rounded-lg p-3 mb-3">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="font-title text-xs text-green-400">// SYSTEM VITALS</h2>
                        <span id="system-mode-display" class="text-xs font-bold" style="color: var(--neon-green);">STANDARD</span>
                    </div>

                    <!-- Stats Grid -->
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <!-- Photons -->
                        <div class="stat-grid-item photons-gauge rounded p-2">
                            <p class="text-yellow-400 font-bold">PHOTONS</p>
                            <p id="photons-display" class="text-xl text-white font-bold">0</p>
                            <p id="photon-rate-display" class="text-yellow-300 text-xs">+0/s</p>
                            <div id="photons-activity-gauge" class="activity-gauge"></div>
                        </div>
                        <!-- Sun Intensity -->
                        <div class="stat-grid-item btc-glow rounded p-2">
                            <p class="text-orange-400 font-bold">SUN INTENSITY</p>
                            <p id="btc-price-display" class="text-xl text-white font-bold">500,000</p>
                            <p class="text-orange-300 text-xs">lux</p>
                            <div id="sun-activity-gauge" class="activity-gauge"></div>
                        </div>
                        <!-- Substrate -->
                        <div class="stat-grid-item substrate-glow rounded p-2">
                            <p class="text-pink-400 font-bold">ETH SUBSTRATE</p>
                            <p id="eth-price-display" class="text-xl text-white font-bold">4,000</p>
                            <p class="text-pink-300 text-xs">gwei</p>
                            <div id="substrate-activity-gauge" class="activity-gauge electric-gauge"></div>
                        </div>
                        <!-- Lightyears -->
                        <div class="stat-grid-item lightyears-glow rounded p-2">
                            <p class="text-cyan-400 font-bold">LIGHTYEARS</p>
                            <p id="lightyears-display" class="text-xl text-white font-bold">0</p>
                            <p id="lightyear-rate-display" class="text-cyan-300 text-xs">~0/s</p>
                            <div id="lightyears-activity-gauge" class="activity-gauge"></div>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="mt-3">
                        <div class="flex justify-between text-xs mb-1">
                            <span class="text-gray-400">PROGRESS TO FREEDOM</span>
                            <span class="text-pink-400">1,000,000 LY</span>
                        </div>
                        <div class="progress-bar rounded-full overflow-hidden">
                            <div id="progress-fill" class="progress-fill h-full rounded-full" style="width: 0%;"></div>
                        </div>
                    </div>

                    <!-- Warrants -->
                    <div class="mt-3 text-center">
                        <p id="warrants-display" class="text-red-500 font-bold text-sm">
                            <i class="fas fa-skull-crossbones mr-2"></i> 0
                        </p>
                        <p class="text-gray-500 text-xs">OUTSTANDING WARRANTS</p>
                    </div>
                </div>

                <!-- Log Display -->
                <div class="retro-border secondary-panel-bg rounded-lg p-3">
                    <h2 class="font-title text-xs text-green-400 mb-2">// COMM LOG</h2>
                    <div id="log-display" class="log-container text-xs font-mono p-2 rounded bg-black/50">
                        <p class="text-gray-400">[BOOT] Systems online...</p>
                    </div>
                </div>
            </section>

            <!-- ===== MAP TAB ===== -->
            <section id="map-tab-content" class="tab-content">
                <div class="retro-border secondary-panel-bg rounded-lg p-3">
                    <div class="flex justify-between items-center mb-2">
                        <h2 class="font-title text-xs text-green-400">// NAVIGATION</h2>
                        <div class="flex items-center gap-2">
                            <span class="text-xs text-gray-400">SYSTEM:</span>
                            <span id="system-name-display" class="text-xs text-yellow-400 font-bold">Orion's Anvil</span>
                        </div>
                    </div>

                    <!-- Map Timer -->
                    <div class="text-center mb-2 p-2 bg-black/30 rounded border border-red-500/50">
                        <p class="text-xs text-red-400">TIME TO INTERCEPT</p>
                        <p id="map-timer-display" class="text-2xl font-bold text-red-500 font-title">05:00</p>
                    </div>

                    <!-- Navigation Map -->
                    <div id="navigation-map" class="relative w-full aspect-square bg-black/50 rounded overflow-hidden border border-green-500/30">
                        <canvas id="title-starfield-canvas" class="absolute top-0 left-0 w-full h-full"></canvas>
                        <canvas id="map-overlay-canvas" class="absolute top-0 left-0 w-full h-full pointer-events-none"></canvas>

                        <!-- SVG Maps -->
                        <svg id="map-display-1" class="absolute top-0 left-0 w-full h-full" viewBox="0 0 400 400" style="display: block;">
                            <g id="ship-trail-group"></g>
                            <circle cx="50" cy="350" r="8" fill="#00ff41" opacity="0.8"/>
                            <circle cx="350" cy="50" r="10" fill="#ff4100" opacity="0.8"/>
                            <text x="50" y="380" fill="#00ff41" font-size="10" text-anchor="middle">START</text>
                            <text x="350" y="30" fill="#ff4100" font-size="10" text-anchor="middle">FREEDOM</text>
                            <g id="dillinger-ship-group">
                                <polygon points="0,-8 -5,8 5,8" fill="#00ffff" stroke="#ffffff" stroke-width="1"/>
                                <circle cx="0" cy="0" r="12" fill="none" stroke="#00ffff" stroke-width="1" opacity="0.5">
                                    <animate attributeName="r" values="12;18;12" dur="1.5s" repeatCount="indefinite"/>
                                    <animate attributeName="opacity" values="0.5;0.1;0.5" dur="1.5s" repeatCount="indefinite"/>
                                </circle>
                            </g>
                        </svg>
                        <svg id="map-display-2" class="absolute top-0 left-0 w-full h-full" viewBox="0 0 400 400" style="display: none;"></svg>
                        <svg id="map-display-3" class="absolute top-0 left-0 w-full h-full" viewBox="0 0 400 400" style="display: none;"></svg>
                        <svg id="map-display-4" class="absolute top-0 left-0 w-full h-full" viewBox="0 0 400 400" style="display: none;"></svg>
                        <svg id="map-display-5" class="absolute top-0 left-0 w-full h-full" viewBox="0 0 400 400" style="display: none;"></svg>
                        <svg id="map-display-6" class="absolute top-0 left-0 w-full h-full" viewBox="0 0 400 400" style="display: none;"></svg>
                    </div>

                    <!-- Map Aux Dashboard -->
                    <div class="map-aux-dashboard">
                        <div class="target-info-panel">
                            <h3>TARGET</h3>
                            <p>ID: <span id="target-id">UN-77-B</span></p>
                            <p>CLASS: <span id="target-class">Nebula Fragment</span></p>
                            <p>DIST: <span id="target-dist">1.2 AU</span></p>
                            <p>SIGNAL: <span id="target-signal">Weak EM</span></p>
                        </div>
                        <div class="radar-container">
                            <canvas id="radar-canvas"></canvas>
                        </div>
                        <div class="system-status-panel">
                            <h3>STATUS</h3>
                            <p>SHIELDS: <span class="text-green-400">ONLINE</span></p>
                            <p>WEAPONS: <span class="text-yellow-400">STANDBY</span></p>
                            <p>ENGINES: <span class="text-green-400">NOMINAL</span></p>
                            <p>LIFE SUP: <span class="text-green-400">98%</span></p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ===== ENGINES TAB ===== -->
            <section id="engines-tab-content" class="tab-content">
                <div class="retro-border secondary-panel-bg rounded-lg p-3 mb-3">
                    <h2 class="font-title text-xs text-green-400 mb-2">// PROPULSION BAY</h2>

                    <!-- Ship Visualization -->
                    <div class="relative w-full h-32 bg-black/50 rounded overflow-hidden mb-3 border border-cyan-500/30">
                        <canvas id="airstream-canvas" class="absolute top-0 left-0 w-full h-full"></canvas>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg viewBox="0 0 100 60" class="w-24 h-16 sail-power-active">
                                <polygon points="50,5 10,55 50,45 90,55" fill="none" stroke="#00ffff" stroke-width="2"/>
                                <line x1="50" y1="5" x2="50" y2="45" stroke="#00ffff" stroke-width="1"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Power Stats -->
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <div class="text-center p-2 bg-black/30 rounded border border-cyan-500/30">
                            <p class="text-xs text-gray-400">TOTAL POWER</p>
                            <p id="total-power-display" class="text-2xl font-bold text-cyan-400">0</p>
                        </div>
                        <div class="text-center p-2 bg-black/30 rounded border border-green-500/30">
                            <p class="text-xs text-gray-400">COOLDOWN</p>
                            <p id="cooldown-timer" class="text-2xl font-bold text-green-400">READY</p>
                        </div>
                    </div>

                    <!-- Balances -->
                    <div class="grid grid-cols-2 gap-3 mb-3 text-xs">
                        <div class="p-2 bg-black/30 rounded border border-yellow-500/30">
                            <span class="text-yellow-400">PHOTONS:</span>
                            <span id="photon-balance-engines" class="text-white font-bold ml-1">0</span>
                        </div>
                        <div class="p-2 bg-black/30 rounded border border-cyan-500/30">
                            <span class="text-cyan-400">LIGHTYEARS:</span>
                            <span id="lightyear-balance-engines" class="text-white font-bold ml-1">0</span>
                        </div>
                    </div>

                    <!-- Craft Buttons -->
                    <div class="grid grid-cols-2 gap-3 mb-3">
                        <button id="craft-sail-button" class="retro-button p-3 rounded text-center">
                            <i class="fas fa-solar-panel text-2xl text-cyan-400 mb-1"></i>
                            <p class="text-xs text-white font-bold">CRAFT SAIL</p>
                            <p class="text-xs text-yellow-400">250 Photons</p>
                        </button>
                        <button id="craft-battery-button" class="retro-button p-3 rounded text-center">
                            <i class="fas fa-battery-full text-2xl text-yellow-400 mb-1"></i>
                            <p class="text-xs text-white font-bold">CRAFT BATTERY</p>
                            <p class="text-xs text-cyan-400">5,000 LY</p>
                        </button>
                    </div>

                    <!-- Slot Ratios -->
                    <div class="mb-3">
                        <div class="flex justify-between text-xs mb-1">
                            <span class="text-cyan-400">SAILS</span>
                            <span class="text-yellow-400">BATTERIES</span>
                        </div>
                        <div class="h-2 bg-black/50 rounded-full overflow-hidden flex">
                            <div id="sail-ratio-bar" class="bg-cyan-400 h-full transition-all" style="width: 0%;"></div>
                            <div id="battery-ratio-bar" class="bg-yellow-400 h-full transition-all" style="width: 0%;"></div>
                        </div>
                    </div>
                </div>

                <!-- Inventory Slots -->
                <div class="retro-border secondary-panel-bg rounded-lg p-3">
                    <h2 class="font-title text-xs text-green-400 mb-2">// RADIATION CHAMBER</h2>
                    <div class="fuse-box-panel">
                        <div id="inventory-slots" class="grid grid-cols-4 gap-3">
                            <!-- Slots rendered by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- ===== ACTION TAB ===== -->
            <section id="action-tab-content" class="tab-content">
                <div class="retro-border secondary-panel-bg rounded-lg p-3 mb-3">
                    <h2 class="font-title text-xs text-green-400 mb-2">// TACTICAL OPTIONS</h2>

                    <!-- Encounter Debrief -->
                    <div id="encounter-debrief-panel" class="hidden mb-3 p-3 bg-black/50 rounded border border-yellow-500/50">
                        <p class="text-xs text-yellow-400 font-bold mb-1">DEBRIEF:</p>
                        <p id="encounter-debrief-text" class="text-xs text-gray-300"></p>
                    </div>

                    <!-- Blackhole Entry -->
                    <div id="minigame-prompt" class="p-3 bg-black/50 rounded border border-purple-500/50 mb-3">
                        <h3 class="text-sm text-purple-400 font-bold mb-2">
                            <i class="fas fa-atom mr-2"></i>BLACK HOLE JUMP
                        </h3>
                        <p class="text-xs text-gray-400 mb-3">
                            Risk everything for a massive lightyear boost. Costs 250,000 LY and destroys all sails. Navigate the warp tunnel to escape!
                        </p>
                        <button id="enter-blackhole-button" class="retro-button w-full p-2 rounded text-purple-400 border-purple-500">
                            ENTER BLACK HOLE
                        </button>
                    </div>

                    <!-- Warp Minigame Container -->
                    <div id="minigame-container" class="hidden">
                        <div class="warp-game-container warp-game-font">
                            <div id="warp-gameView" class="flex-grow relative">
                                <div id="warp-viewContainer" class="w-full h-full">
                                    <canvas id="warp-gameCanvas"></canvas>
                                </div>
                            </div>
                            <div class="p-3 bg-black/80 border-t-2 border-orange-500">
                                <input type="range" id="warp-slider" class="warp-slider w-full mb-3" min="-100" max="100" value="0">
                                <button id="warp-out-button" class="warp-control-button w-full py-3 text-xl bg-green-900 border-2 border-green-500 text-green-400 rounded">
                                    WARP OUT & CLAIM
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Test Buttons (Dev) -->
                <div class="retro-border secondary-panel-bg rounded-lg p-3">
                    <h2 class="font-title text-xs text-gray-500 mb-2">// DEV TOOLS</h2>
                    <div class="grid grid-cols-3 gap-2">
                        <button id="test-photons-button" class="retro-button p-2 rounded text-xs text-yellow-400 border-yellow-500/50">
                            +1K PHOTONS
                        </button>
                        <button id="test-lightyears-button" class="retro-button p-2 rounded text-xs text-cyan-400 border-cyan-500/50">
                            +250K LY
                        </button>
                        <button id="test-encounter-button" class="retro-button p-2 rounded text-xs text-red-400 border-red-500/50">
                            ENCOUNTER
                        </button>
                    </div>
                </div>
            </section>

            <!-- ===== BRIEFING TAB ===== -->
            <section id="briefing-tab-content" class="tab-content">
                <div class="retro-border secondary-panel-bg rounded-lg p-3 mb-3">
                    <h2 class="font-title text-xs text-green-400 mb-3">// MISSION BRIEFING</h2>

                    <div class="space-y-4 text-xs text-gray-300">
                        <div class="p-3 bg-black/30 rounded border-l-2 border-yellow-500">
                            <h3 class="text-yellow-400 font-bold mb-1">OBJECTIVE</h3>
                            <p>Travel 1,000,000 lightyears to escape the law. Collect outstanding warrants to prove your infamy.</p>
                        </div>

                        <div class="p-3 bg-black/30 rounded border-l-2 border-cyan-500">
                            <h3 class="text-cyan-400 font-bold mb-1">SOLAR SAILS</h3>
                            <p>Craft sails to generate lightyears. Power scales with sun intensity. Sails degrade over time and must be jettisoned when broken.</p>
                        </div>

                        <div class="p-3 bg-black/30 rounded border-l-2 border-yellow-500">
                            <h3 class="text-yellow-400 font-bold mb-1">PHOTON BATTERIES</h3>
                            <p>Generate passive photon income. Rate scales with ETH substrate price. Essential for continuous sail production.</p>
                        </div>

                        <div class="p-3 bg-black/30 rounded border-l-2 border-red-500">
                            <h3 class="text-red-400 font-bold mb-1">ENCOUNTERS</h3>
                            <p>Random events trigger during crafting. Risk it for rewards or play it safe. Each has different odds and payouts.</p>
                        </div>

                        <div class="p-3 bg-black/30 rounded border-l-2 border-purple-500">
                            <h3 class="text-purple-400 font-bold mb-1">BLACK HOLE</h3>
                            <p>High-risk minigame. Costs 250K LY and all sails. Navigate the warp tunnel to claim massive distance. Failure ends the run.</p>
                        </div>
                    </div>
                </div>

                <!-- Settings -->
                <div class="retro-border secondary-panel-bg rounded-lg p-3">
                    <h2 class="font-title text-xs text-green-400 mb-3">// SETTINGS</h2>

                    <div class="flex justify-between items-center mb-3">
                        <span class="text-xs text-gray-400">SYSTEM MODE</span>
                        <button id="cycle-mode-button" class="retro-button px-3 py-1 rounded text-xs">
                            CYCLE MODE
                        </button>
                    </div>

                    <div class="flex justify-center gap-4 mb-3">
                        <button id="mute-music-button" class="audio-control-button">
                            <i id="mute-music-icon" class="fas fa-volume-up"></i>
                        </button>
                        <button id="mute-sfx-button" class="audio-control-button">
                            <i id="mute-sfx-icon" class="fas fa-volume-up"></i>
                        </button>
                    </div>

                    <div class="flex justify-between items-center mb-3">
                        <span class="text-xs text-gray-400">SCANNER</span>
                        <button id="toggle-scanner-btn" class="retro-button px-3 py-1 rounded text-xs">
                            TOGGLE
                        </button>
                    </div>

                    <!-- Data Scanner -->
                    <div class="data-scanner">
                        <div class="scanner-bar"></div>
                        <div class="text-stream">SYSTEM SCAN: OK :: STARDIVE CORES: NOMINAL</div>
                    </div>

                    <!-- Reset -->
                    <div class="mt-4 pt-4 border-t border-red-500/30">
                        <button id="reset-prompt-button" class="retro-button w-full p-2 rounded text-red-400 border-red-500/50">
                            <i class="fas fa-skull mr-2"></i>ABORT MISSION
                        </button>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- ========================================= -->
    <!-- BOTTOM NAVIGATION -->
    <!-- ========================================= -->
    <nav id="bottom-nav-bar" class="bottom-nav hidden">
        <button id="nav-vitals" class="nav-button active">
            <i class="fas fa-heartbeat"></i>
            <span>Vitals</span>
        </button>
        <button id="nav-map" class="nav-button">
            <i class="fas fa-map-marked-alt"></i>
            <span>Map</span>
        </button>
        <button id="nav-engines" class="nav-button">
            <i class="fas fa-cogs"></i>
            <span>Engines</span>
        </button>
        <button id="nav-action" class="nav-button">
            <i class="fas fa-crosshairs"></i>
            <span>Action</span>
        </button>
        <button id="nav-briefing" class="nav-button">
            <i class="fas fa-file-alt"></i>
            <span>Brief</span>
        </button>
    </nav>

    <!-- ========================================= -->
    <!-- MODALS -->
    <!-- ========================================= -->

    <!-- Encounter Modal -->
    <div id="encounter-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 hidden">
        <div class="retro-border secondary-panel-bg rounded-lg p-4 max-w-sm w-full">
            <h2 class="font-title text-sm text-red-400 mb-3 text-center">
                <i class="fas fa-exclamation-triangle mr-2"></i>ENCOUNTER
            </h2>
            <p id="encounter-description" class="text-sm text-gray-300 mb-4 text-center"></p>
            <div class="grid grid-cols-2 gap-3">
                <button id="encounter-avoid" class="retro-button p-2 rounded text-gray-400">
                    AVOID
                </button>
                <button id="encounter-risk-it" class="retro-button p-2 rounded text-yellow-400 border-yellow-500">
                    RISK IT
                </button>
            </div>
        </div>
    </div>

    <!-- Win Modal -->
    <div id="win-message" class="fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 hidden">
        <div class="retro-border secondary-panel-bg rounded-lg p-6 max-w-sm w-full text-center">
            <h2 class="font-title text-xl text-green-400 mb-3">FREEDOM!</h2>
            <p class="text-gray-300 mb-4">You've escaped the law... for now. Claim your warrant and continue the run!</p>
            <button id="claim-warrant-button" class="retro-button w-full p-3 rounded text-yellow-400 border-yellow-500 mb-2">
                <i class="fas fa-trophy mr-2"></i>CLAIM WARRANT
            </button>
            <button id="win-reset-button" class="retro-button w-full p-2 rounded text-gray-400">
                NEW GAME
            </button>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="game-over-message" class="fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 hidden">
        <div class="retro-border secondary-panel-bg rounded-lg p-6 max-w-sm w-full text-center" style="border-color: var(--neon-red);">
            <h2 class="font-title text-xl text-red-400 mb-3">CAPTURED</h2>
            <p class="text-gray-300 mb-4">The authorities have caught up. Your run ends here.</p>
            <button id="game-over-reset-button" class="retro-button w-full p-3 rounded text-red-400 border-red-500">
                <i class="fas fa-redo mr-2"></i>TRY AGAIN
            </button>
        </div>
    </div>

    <!-- Reset Confirmation Modal -->
    <div id="reset-confirm-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 hidden">
        <div class="retro-border secondary-panel-bg rounded-lg p-4 max-w-sm w-full">
            <h2 class="font-title text-sm text-red-400 mb-3 text-center">ABORT MISSION?</h2>
            <p class="text-sm text-gray-300 mb-4 text-center">All progress will be lost. Are you sure?</p>
            <div class="grid grid-cols-2 gap-3">
                <button id="reset-cancel-button" class="retro-button p-2 rounded text-gray-400">
                    CANCEL
                </button>
                <button id="reset-confirm-button" class="retro-button p-2 rounded text-red-400 border-red-500">
                    CONFIRM
                </button>
            </div>
        </div>
    </div>

</body>
</html>
